<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>main &mdash; Projekt_innowacja 1.0.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Projekt_innowacja
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">Projekt-Innowacje</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Projekt_innowacja</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Module code</a></li>
      <li class="breadcrumb-item active">main</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for main</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">webbrowser</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">mode</span><span class="o">.</span><span class="n">chained_assignment</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># default=&#39;warn&#39;</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">PyQt5</span> <span class="kn">import</span> <span class="n">QtWidgets</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtCore</span> <span class="kn">import</span> <span class="n">Qt</span><span class="p">,</span> <span class="n">QDate</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtGui</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtWidgets</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtWidgets</span> <span class="kn">import</span> <span class="n">QAction</span><span class="p">,</span> <span class="n">qApp</span><span class="p">,</span> <span class="n">QApplication</span><span class="p">,</span> <span class="n">QWidget</span><span class="p">,</span> <span class="n">QCalendarWidget</span><span class="p">,</span> <span class="n">QCheckBox</span>
<span class="kn">from</span> <span class="nn">backend</span> <span class="kn">import</span> <span class="n">backend_functions</span> <span class="k">as</span> <span class="n">backend</span><span class="p">,</span> <span class="n">differential_analysis</span>
<span class="kn">from</span> <span class="nn">backend</span> <span class="kn">import</span> <span class="n">tab_functions</span> <span class="k">as</span> <span class="n">backend_funcs</span>
<span class="kn">from</span> <span class="nn">backend</span> <span class="kn">import</span> <span class="n">graph_preview</span> <span class="k">as</span> <span class="n">backend_graph</span>
<span class="kn">from</span> <span class="nn">front.styles</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">front.graph</span> <span class="kn">import</span> <span class="n">Graph</span>
<span class="kn">import</span> <span class="nn">pyqtgraph.exporters</span> <span class="k">as</span> <span class="nn">exporters</span>
<span class="kn">from</span> <span class="nn">pyqtgraph</span> <span class="kn">import</span> <span class="n">functions</span> <span class="k">as</span> <span class="n">fn</span>
<span class="kn">import</span> <span class="nn">pyqtgraph</span> <span class="k">as</span> <span class="nn">pg</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>


<span class="n">methods_with_parameter</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Grupowanie przestrzenne&quot;</span><span class="p">,</span> <span class="s2">&quot;Las izolacji&quot;</span><span class="p">,</span> <span class="s2">&quot;Lokalna wartość odstająca&quot;</span><span class="p">]</span>

<span class="c1"># needed for csv handling</span>
<span class="n">expected_columns</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;single_without_anomaly&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Exchange&#39;</span><span class="p">],</span>
            <span class="s1">&#39;single_with_anomaly&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Exchange&#39;</span><span class="p">,</span> <span class="s1">&#39;Anomaly&#39;</span><span class="p">],</span>
            <span class="s1">&#39;single_with_anomaly_all&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Exchange&#39;</span><span class="p">,</span> <span class="s1">&#39;Anomaly_1&#39;</span><span class="p">,</span> <span class="s1">&#39;Anomaly_2&#39;</span><span class="p">,</span> <span class="s1">&#39;Anomaly_3&#39;</span><span class="p">,</span> <span class="s1">&#39;Anomaly_4&#39;</span><span class="p">,</span> <span class="s1">&#39;Anomaly_5&#39;</span><span class="p">],</span>
            <span class="s1">&#39;multiple_without_anomaly&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Exchange-1&#39;</span><span class="p">,</span> <span class="s1">&#39;Exchange-2&#39;</span><span class="p">],</span>
            <span class="s1">&#39;multiple_with_anomaly&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Exchange-1&#39;</span><span class="p">,</span> <span class="s1">&#39;Anomaly-1&#39;</span><span class="p">,</span> <span class="s1">&#39;Exchange-2&#39;</span><span class="p">,</span> <span class="s1">&#39;Anomaly-2&#39;</span><span class="p">],</span>
            <span class="s1">&#39;multiple_with_anomaly_all&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Exchange-1&#39;</span><span class="p">,</span> <span class="s1">&#39;Anomaly_1-1&#39;</span><span class="p">,</span> <span class="s1">&#39;Anomaly_2-1&#39;</span><span class="p">,</span> <span class="s1">&#39;Anomaly_3-1&#39;</span><span class="p">,</span> <span class="s1">&#39;Anomaly_4-1&#39;</span><span class="p">,</span> <span class="s1">&#39;Anomaly_5-1&#39;</span><span class="p">,</span> <span class="s1">&#39;Exchange-2&#39;</span><span class="p">,</span> <span class="s1">&#39;Anomaly_1-2&#39;</span><span class="p">,</span> <span class="s1">&#39;Anomaly_2-2&#39;</span><span class="p">,</span> <span class="s1">&#39;Anomaly_3-2&#39;</span><span class="p">,</span> <span class="s1">&#39;Anomaly_4-2&#39;</span><span class="p">,</span> <span class="s1">&#39;Anomaly_5-2&#39;</span><span class="p">]</span>
        <span class="p">}</span>


<div class="viewcode-block" id="clear_layout"><a class="viewcode-back" href="../main.html#main.clear_layout">[docs]</a><span class="k">def</span> <span class="nf">clear_layout</span><span class="p">(</span><span class="n">layout</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function takes a layout as an input and removes all the widgets from that layout.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">while</span> <span class="n">layout</span><span class="o">.</span><span class="n">count</span><span class="p">():</span>
        <span class="n">child</span> <span class="o">=</span> <span class="n">layout</span><span class="o">.</span><span class="n">takeAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">child</span><span class="o">.</span><span class="n">widget</span><span class="p">():</span>
            <span class="n">child</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span></div>


<div class="viewcode-block" id="Calendar"><a class="viewcode-back" href="../main.html#main.Calendar">[docs]</a><span class="k">class</span> <span class="nc">Calendar</span><span class="p">(</span><span class="n">QCalendarWidget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Custom QCalendarWidget that inherits from the Qt QCalendarWidget class. It is used to display a calendar widget in the GUI.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Calendar</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setGridVisible</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">calendarStyleSheet</span><span class="p">)</span></div>


<div class="viewcode-block" id="Window"><a class="viewcode-back" href="../main.html#main.Window">[docs]</a><span class="k">class</span> <span class="nc">Window</span><span class="p">(</span><span class="n">QMainWindow</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Subclass of QMainWindow that provides a graphical user interface for a tool that performs anomaly detection on financial data.</span>

<span class="sd">        Args:</span>
<span class="sd">            -differential: A boolean indicating whether the differential of the dataset is being displayed.</span>
<span class="sd">            -graph_preview_top: A pg.PlotWidget instance representing the top graph preview in the UI.</span>
<span class="sd">            -graph_preview_bottom: A pg.PlotWidget instance representing the bottom graph preview in the UI.</span>
<span class="sd">            -top_plot_variables: A dictionary of variables related to the top graph preview.</span>
<span class="sd">            -bottom_plot_variables: A dictionary of variables related to the bottom graph preview.</span>
<span class="sd">            -important_tabs: A list of tabs in the UI that should not be closed.</span>
<span class="sd">            -help_tab: A reference to the help tab in the UI.</span>
<span class="sd">            -settings_tab: A reference to the settings tab in the UI.</span>
<span class="sd">            -creators_tab: A reference to the creators tab in the UI.</span>
<span class="sd">            -button_settings: A QPushButton instance that opens the settings menu.</span>
<span class="sd">            -settings_pack: A dictionary containing settings loaded from a configuration file.</span>
<span class="sd">            -interval_list: A list of strings representing the possible intervals to display in the UI.</span>
<span class="sd">            -pack: A dictionary containing configuration settings for the current dataset.</span>
<span class="sd">            -tabs: A QTabWidget instance representing the tabbed interface for the UI.</span>
<span class="sd">            -tab_main: A QWidget instance representing the main tab in the UI.</span>
<span class="sd">            -graphs: A dictionary containing references to the various plots in the UI.</span>
<span class="sd">            -button_plot: A QPushButton instance that generates the plot.</span>
<span class="sd">            -swap_currencies_bottom: A QPushButton instance that swaps the currencies in the bottom graph.</span>
<span class="sd">            -swap_currencies_top: A QPushButton instance that swaps the currencies in the top graph.</span>
<span class="sd">            -calendar_start_label: A QLabel instance representing the label for the start date.</span>
<span class="sd">            -calendar_start: A QDateEdit instance representing the widget for selecting the start date.</span>
<span class="sd">            -calendar_stop_label: A QLabel instance representing the label for the end date.</span>
<span class="sd">            -calendar_stop: A QDateEdit instance representing the widget for selecting the end date.</span>
<span class="sd">            -method_list: A list of strings representing the possible anomaly detection methods to use.</span>
<span class="sd">            -method_label: A QLabel instance representing the label for the method selection.</span>
<span class="sd">            -methods: A QComboBox instance representing the drop-down for selecting the anomaly detection method.</span>
<span class="sd">            -interval_label: A QLabel instance representing the label for the interval selection.</span>
<span class="sd">            -interval: A QComboBox instance representing the drop-down for selecting the interval.</span>
<span class="sd">            -currencies_bottom_label: A QLabel instance representing the label for the currency selection in the bottom graph.</span>
<span class="sd">            -currencies_bottom_list1: A QComboBox instance representing the drop-down for selecting the first currency in the bottom graph.</span>
<span class="sd">            -currencies_bottom_list2: A QComboBox instance representing the drop-down for selecting the second currency in the bottom graph.</span>
<span class="sd">            -checkbox: A QCheckBox instance representing the checkbox for disabling a currency in the bottom graph.</span>
<span class="sd">            -currencies_top_label: A QLabel instance representing the label for the currency selection in the top graph.</span>
<span class="sd">            -currencies_top_list1: A QComboBox instance representing the drop-down for selecting the first currency in the top</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Window</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">WindowFlags</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">differential</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_top</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">PlotWidget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_bottom</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">PlotWidget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top_plot_variables</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_plot_variables</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">important_tabs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">help_tab</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings_tab</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">creators_tab</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_settings</span> <span class="o">=</span> <span class="n">backend_funcs</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="n">buttonStyleSheet</span><span class="p">,</span> <span class="n">icon</span><span class="o">=</span><span class="n">QIcon</span><span class="p">(</span><span class="n">settings_icon</span><span class="p">),</span>
                                                           <span class="n">min_size</span><span class="o">=</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span> <span class="mi">45</span><span class="p">),</span> <span class="n">max_size</span><span class="o">=</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span> <span class="mi">45</span><span class="p">),</span> <span class="n">function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="p">)</span>
        <span class="c1"># self.setObjectName(&#39;testowe_id&#39;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">read_settings_from_file</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Dzienny&quot;</span><span class="p">,</span> <span class="s2">&quot;Tygodniowy&quot;</span><span class="p">,</span> <span class="s2">&quot;Miesięczny&quot;</span><span class="p">,</span> <span class="s2">&quot;Kwartalny&quot;</span><span class="p">,</span> <span class="s2">&quot;Roczny&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pack</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c1"># tabs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span> <span class="o">=</span> <span class="n">QTabWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># self.tabs.setFixedSize(800, 600) # dla testow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">mainTabStyleSheet</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">setMovable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">setTabsClosable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">setTabShape</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># to mozna zmienic</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">tabCloseRequested</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span> <span class="n">index</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">close_tab</span><span class="p">(</span><span class="n">index</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="p">,</span> <span class="s2">&quot;Start&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graphs</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># generate plot button</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_plot</span> <span class="o">=</span> <span class="n">backend_funcs</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Wygeneruj wykresy&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">generatePlotButtonStyleSheet</span><span class="p">,</span>
                                                       <span class="n">function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">create_plot</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_plot</span><span class="o">.</span><span class="n">setFixedWidth</span><span class="p">(</span><span class="mi">300</span><span class="p">)</span>

        <span class="c1"># swap currencies_bottom button</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">swap_currencies_bottom</span> <span class="o">=</span> <span class="n">backend_funcs</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="n">swapButtonStyleSheet</span><span class="p">,</span> <span class="n">icon</span><span class="o">=</span><span class="n">QIcon</span><span class="p">(</span><span class="n">swap_icon</span><span class="p">),</span>
                                                       <span class="n">function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">swap_currencies</span><span class="p">)</span>
        <span class="c1"># swap currencies_top button</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">swap_currencies_top</span> <span class="o">=</span> <span class="n">backend_funcs</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="n">swapButtonStyleSheet</span><span class="p">,</span> <span class="n">icon</span><span class="o">=</span><span class="n">QIcon</span><span class="p">(</span><span class="n">swap_icon</span><span class="p">),</span>
                                                       <span class="n">function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">swap_currencies2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">swap_currencies_bottom</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">swap_clicked_bottom</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">swap_currencies_top</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">swap_clicked_top</span><span class="p">)</span>

        <span class="c1"># calendars for setting dates</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calendar_start_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Data początkowa&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calendar_start_label</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">labelStyleSheet</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calendar_start_label</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;graph_fields&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calendar_stop_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Data końcowa&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calendar_stop_label</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">labelStyleSheet</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calendar_stop_label</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;graph_fields&quot;</span><span class="p">)</span>

        <span class="n">calendar_start</span> <span class="o">=</span> <span class="n">backend_funcs</span><span class="o">.</span><span class="n">create_calendar</span><span class="p">(</span><span class="n">Calendar</span><span class="p">)</span>
        <span class="n">calendar_stop</span> <span class="o">=</span> <span class="n">backend_funcs</span><span class="o">.</span><span class="n">create_calendar</span><span class="p">(</span><span class="n">Calendar</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">calendar_start</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QDateEdit</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calendar_start</span><span class="o">.</span><span class="n">setCalendarPopup</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calendar_start</span><span class="o">.</span><span class="n">setDisplayFormat</span><span class="p">(</span><span class="s2">&quot;dd-MM-yyyy&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calendar_start</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">DateEditStyleSheet</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calendar_start</span><span class="o">.</span><span class="n">setCalendarWidget</span><span class="p">(</span><span class="n">calendar_start</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">calendar_stop</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QDateEdit</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calendar_stop</span><span class="o">.</span><span class="n">setCalendarPopup</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calendar_stop</span><span class="o">.</span><span class="n">setDisplayFormat</span><span class="p">(</span><span class="s2">&quot;dd-MM-yyyy&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calendar_stop</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">DateEditStyleSheet</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calendar_stop</span><span class="o">.</span><span class="n">setCalendarWidget</span><span class="p">(</span><span class="n">calendar_stop</span><span class="p">)</span>

        <span class="c1"># methods</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">method_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Odchylenie standardowe&quot;</span><span class="p">,</span> <span class="s2">&quot;Grupowanie przestrzenne&quot;</span><span class="p">,</span> <span class="s2">&quot;Las izolacji&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;Lokalna wartość odstająca&quot;</span><span class="p">,</span> <span class="s2">&quot;Autoenkoder&quot;</span><span class="p">,</span> <span class="s2">&quot;Większościowa&quot;</span><span class="p">,</span> <span class="s2">&quot;Wszystkie&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">method_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Metoda&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">method_label</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">labelStyleSheet</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">method_label</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;graph_fields&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">methods</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">methods</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">comboBoxStyleSheet</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">methods</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;graph_fields&quot;</span><span class="p">)</span>

        <span class="c1"># intervals</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Interwał&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval_label</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">labelStyleSheet</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval_label</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;graph_fields&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">comboBoxStyleSheet</span><span class="p">)</span>

        <span class="c1"># currencies_bottom</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Waluty&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_label</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;graph_fields&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_label</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">labelStyleSheet</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list1</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list1</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">comboBoxStyleSheet</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list1</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;graph_fields&quot;</span><span class="p">)</span>
        <span class="c1"># self.currencies_bottom_list1.currentIndexChanged.connect(self.change_label_bottom)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list2</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list2</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;graph_fields&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list2</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">comboBoxStyleSheet</span><span class="p">)</span>
        <span class="c1"># self.currencies_bottom_list2.currentIndexChanged.connect(self.change_label_bottom)</span>

        <span class="c1"># checkbox for currency</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkbox</span> <span class="o">=</span> <span class="n">QCheckBox</span><span class="p">(</span><span class="s2">&quot;Wyłącz&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkbox</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkbox</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;checkbox&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkbox</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">checkboxStyleSheet</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkbox</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkbox_clicked</span><span class="p">)</span>

        <span class="c1"># currencies top</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Waluty&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_label</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;graph_fields&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_label</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">labelStyleSheet</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list1</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list1</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">comboBoxStyleSheet</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list1</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;graph_fields&quot;</span><span class="p">)</span>
        <span class="c1"># self.currencies_top_list1.currentIndexChanged.connect(self.change_label_top)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list2</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list2</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;graph_fields&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list2</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">comboBoxStyleSheet</span><span class="p">)</span>
        <span class="c1"># self.currencies_bottom_list2.currentIndexChanged.connect(self.change_label_top)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">title_top</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title_top</span><span class="o">.</span><span class="n">setFixedWidth</span><span class="p">(</span><span class="mi">400</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title_top</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">labelStyleSheet</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title_top</span><span class="o">.</span><span class="n">setMaxLength</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title_top</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;title_top&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">title_bottom</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title_bottom</span><span class="o">.</span><span class="n">setFixedWidth</span><span class="p">(</span><span class="mi">400</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title_bottom</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">labelStyleSheet</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title_bottom</span><span class="o">.</span><span class="n">setMaxLength</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title_bottom</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;title_bottom&quot;</span><span class="p">)</span>

        <span class="c1"># window settings</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setMinimumSize</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">760</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">760</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Detektor anomalii&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowIcon</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="n">app_logo</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">windowStyleSheet</span><span class="p">)</span>
        <span class="c1"># font_qt = QFont() # ustawienie fonta, ale nieuzywane</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">alpha</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">init_menu</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">QGridLayout</span><span class="p">()</span>  <span class="c1"># 1.layout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init_layout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>


<div class="viewcode-block" id="Window.change_label_top"><a class="viewcode-back" href="../main.html#main.Window.change_label_top">[docs]</a>    <span class="k">def</span> <span class="nf">change_label_top</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="c1"># zmienic funkcje nie dziala w kazdym przypadku</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Method is called when the currency is changed in the top plot.</span>
<span class="sd">            It sets the placeholder text of the top plot title line edit widget to the text of the top plot.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title_top</span><span class="o">.</span><span class="n">setPlaceholderText</span><span class="p">(</span>
            <span class="c1">#self.graph_preview_top.text() #to moze dobrze</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Window.change_label_bottom"><a class="viewcode-back" href="../main.html#main.Window.change_label_bottom">[docs]</a>    <span class="k">def</span> <span class="nf">change_label_bottom</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="c1"># zmienic funkcje nie dziala w kazdym przypadku</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            function is used to set the text of the placeholder in the QLineEdit widget for the title of the bottom plot</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title_bottom</span><span class="o">.</span><span class="n">setPlaceholderText</span><span class="p">(</span>
            <span class="c1"># self.bottom_plot_variables[&quot;currencies&quot;][0].currentText()[:3] + &#39;/&#39; +</span>
            <span class="c1"># self.bottom_plot_variables[&quot;currencies&quot;][1].currentText()[:3]</span>
            <span class="c1">#self.graph_preview_bottom.text() #to moze dobrze</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Window.swap_clicked_top"><a class="viewcode-back" href="../main.html#main.Window.swap_clicked_top">[docs]</a>    <span class="k">def</span> <span class="nf">swap_clicked_top</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            function handles a click event for the swap currencies button in the top graph.</span>
<span class="sd">            When the button is clicked, it swaps the currencies selected in the top graph&#39;s currency selection comboboxes and updates the title placeholder text accordingly.</span>
<span class="sd">            If the current placeholder text in the title matches the current currency selection, it updates the placeholder text to show the new currency selection in reverse order.</span>
<span class="sd">            Otherwise, it updates the placeholder text to show the currency selection in the original order.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">title_top</span><span class="o">.</span><span class="n">placeholderText</span><span class="p">()</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list1</span><span class="o">.</span><span class="n">currentText</span><span class="p">()[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list2</span><span class="o">.</span><span class="n">currentText</span><span class="p">()[:</span><span class="mi">3</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">title_top</span><span class="o">.</span><span class="n">setPlaceholderText</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list2</span><span class="o">.</span><span class="n">currentText</span><span class="p">()[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list1</span><span class="o">.</span><span class="n">currentText</span><span class="p">()[:</span><span class="mi">3</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">title_top</span><span class="o">.</span><span class="n">setPlaceholderText</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list1</span><span class="o">.</span><span class="n">currentText</span><span class="p">()[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list2</span><span class="o">.</span><span class="n">currentText</span><span class="p">()[:</span><span class="mi">3</span><span class="p">]</span>
            <span class="p">)</span></div>


<div class="viewcode-block" id="Window.swap_clicked_bottom"><a class="viewcode-back" href="../main.html#main.Window.swap_clicked_bottom">[docs]</a>    <span class="k">def</span> <span class="nf">swap_clicked_bottom</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            function swaps the currencies shown in the graph title and updates the title.</span>
<span class="sd">            It checks if the current title matches the format &#39;currency1/currency2&#39; and if it does, it swaps the currency abbreviations and updates the title.</span>
<span class="sd">            If it does not match this format, it sets the title to &#39;currency1/currency2</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">title_bottom</span><span class="o">.</span><span class="n">placeholderText</span><span class="p">()</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list1</span><span class="o">.</span><span class="n">currentText</span><span class="p">()[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list2</span><span class="o">.</span><span class="n">currentText</span><span class="p">()[:</span><span class="mi">3</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">title_bottom</span><span class="o">.</span><span class="n">setPlaceholderText</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list2</span><span class="o">.</span><span class="n">currentText</span><span class="p">()[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list1</span><span class="o">.</span><span class="n">currentText</span><span class="p">()[:</span><span class="mi">3</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">title_bottom</span><span class="o">.</span><span class="n">setPlaceholderText</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list1</span><span class="o">.</span><span class="n">currentText</span><span class="p">()[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list2</span><span class="o">.</span><span class="n">currentText</span><span class="p">()[:</span><span class="mi">3</span><span class="p">]</span>
            <span class="p">)</span></div>


<div class="viewcode-block" id="Window.checkbox_clicked"><a class="viewcode-back" href="../main.html#main.Window.checkbox_clicked">[docs]</a>    <span class="k">def</span> <span class="nf">checkbox_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            slot function that handles the state change of the checkbox.</span>
<span class="sd">            If the checkbox is checked, it enables the top plot along with its corresponding controls and updates the label of the checkbox to &quot;Wyłącz&quot;.</span>
<span class="sd">            If the checkbox is unchecked, it disables the top plot and its corresponding controls and updates the label of the checkbox to &quot;Włącz&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">checkbox</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_bottom</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkbox</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Wyłącz&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list1</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list2</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">swap_currencies_top</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list1</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">comboBoxStyleSheet</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list2</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">comboBoxStyleSheet</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_label</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">labelStyleSheet</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">button_plot</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Wygeneruj wykresy&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_top</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_bottom</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_top</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_bottom</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkbox</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Włącz&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list1</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list2</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">swap_currencies_top</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list1</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">comboBoxDisabledStyleSheet</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list2</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">comboBoxDisabledStyleSheet</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_label</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">labelDisabledStyleSheet</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">button_plot</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Wygeneruj wykres&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_bottom</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_top</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_bottom</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_bottom</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>


<div class="viewcode-block" id="Window.init_menu"><a class="viewcode-back" href="../main.html#main.Window.init_menu">[docs]</a>    <span class="k">def</span> <span class="nf">init_menu</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            menu bar with several menu items .</span>
<span class="sd">            Each menu item is connected to a specific function, which is triggered when the user selects the menu item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exit_action</span> <span class="o">=</span> <span class="n">QAction</span><span class="p">(</span><span class="s1">&#39;&amp;Zamknij&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">exit_action</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s1">&#39;Ctrl+Q&#39;</span><span class="p">)</span>
        <span class="n">exit_action</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Wyjdź z aplikacji&#39;</span><span class="p">)</span>
        <span class="n">exit_action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">qApp</span><span class="o">.</span><span class="n">quit</span><span class="p">)</span>

        <span class="n">file_action</span> <span class="o">=</span> <span class="n">QAction</span><span class="p">(</span><span class="s1">&#39;&amp;Otwórz&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">file_action</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s1">&#39;Ctrl+O&#39;</span><span class="p">)</span>
        <span class="n">file_action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_open</span><span class="p">)</span>

        <span class="n">graph_action</span> <span class="o">=</span> <span class="n">QAction</span><span class="p">(</span><span class="s1">&#39;&amp;Otwórz graf&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">graph_action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_from_file</span><span class="p">)</span>

        <span class="n">help_action</span> <span class="o">=</span> <span class="n">QAction</span><span class="p">(</span><span class="s1">&#39;&amp;Pomoc&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">help_action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">help</span><span class="p">)</span>

        <span class="n">creators_action</span> <span class="o">=</span> <span class="n">QAction</span><span class="p">(</span><span class="s1">&#39;&amp;Twórcy&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">creators_action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">creators</span><span class="p">)</span>

        <span class="n">menubar</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">menuBar</span><span class="p">()</span>
        <span class="n">file_menu</span> <span class="o">=</span> <span class="n">menubar</span><span class="o">.</span><span class="n">addMenu</span><span class="p">(</span><span class="s1">&#39;&amp;Plik&#39;</span><span class="p">)</span>
        <span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">file_action</span><span class="p">)</span>
        <span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">graph_action</span><span class="p">)</span>
        <span class="n">file_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">exit_action</span><span class="p">)</span>
        <span class="n">menubar</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">help_action</span><span class="p">)</span>
        <span class="n">menubar</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">creators_action</span><span class="p">)</span></div>

<div class="viewcode-block" id="Window.init_layout"><a class="viewcode-back" href="../main.html#main.Window.init_layout">[docs]</a>    <span class="k">def</span> <span class="nf">init_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            function initializes the main layout of the application. It creates several widgets and adds them to the layout using a QGridLayout.</span>
<span class="sd">            The layout includes widgets for selecting currencies, dates, intervals and methods, as well as a button to plot the graphs and a checkbox to enable/disable the second graph.</span>
<span class="sd">            It also initializes the graph preview widgets with default values and connects signals to slots to update the graph previews when the user changes any of the settings.</span>
<span class="sd">            Finally, it sets the main layout of the application to be the QGridLayout and sets it as the central widget.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">clear_layout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">layout</span><span class="p">)</span>

        <span class="c1"># lists for currencies</span>
        <span class="k">for</span> <span class="n">flag</span><span class="p">,</span> <span class="n">currency</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">flag_list</span><span class="p">,</span> <span class="n">currencies_list</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list1</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="n">flag</span><span class="p">),</span> <span class="n">currency</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list2</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="n">flag</span><span class="p">),</span> <span class="n">currency</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list1</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="n">flag</span><span class="p">),</span> <span class="n">currency</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list2</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="n">flag</span><span class="p">),</span> <span class="n">currency</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list1</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;currencies12&quot;</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list2</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;currencies21&quot;</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list1</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;currencies1&quot;</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list2</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;currencies2&quot;</span><span class="p">]))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;date_checkbox&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;False&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">calendar_start</span><span class="o">.</span><span class="n">setDate</span><span class="p">(</span><span class="n">backend</span><span class="o">.</span><span class="n">string_to_date</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;date_start&quot;</span><span class="p">]))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">calendar_stop</span><span class="o">.</span><span class="n">setDate</span><span class="p">(</span><span class="n">backend</span><span class="o">.</span><span class="n">string_to_date</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;date_stop&quot;</span><span class="p">]))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">calendar_start</span><span class="o">.</span><span class="n">setDate</span><span class="p">(</span><span class="n">QDate</span><span class="o">.</span><span class="n">currentDate</span><span class="p">()</span><span class="o">.</span><span class="n">addYears</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">calendar_stop</span><span class="o">.</span><span class="n">setDate</span><span class="p">(</span><span class="n">QDate</span><span class="o">.</span><span class="n">currentDate</span><span class="p">())</span>

        <span class="k">for</span> <span class="n">interval</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">interval_list</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">interval</span><span class="p">)</span>

        <span class="c1"># self.interval.setCurrentText(self.settings_pack[&quot;intervals&quot;])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;intervals&quot;</span><span class="p">]))</span>

        <span class="c1"># list for methods</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">method_list</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">method_list</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">methods</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">method</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">methods</span><span class="o">.</span><span class="n">setCurrentText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;methods&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">methods</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;methods&quot;</span><span class="p">]))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">top_plot_variables</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">title_top</span><span class="p">,</span> <span class="s2">&quot;currencies&quot;</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list2</span><span class="p">),</span>
                               <span class="s2">&quot;dates&quot;</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">calendar_start</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">calendar_stop</span><span class="p">),</span> <span class="s2">&quot;interval&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">interval</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_plot_variables</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">title_bottom</span><span class="p">,</span> <span class="s2">&quot;currencies&quot;</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list2</span><span class="p">),</span>
                               <span class="s2">&quot;dates&quot;</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">calendar_start</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">calendar_stop</span><span class="p">),</span> <span class="s2">&quot;interval&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">interval</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list1</span><span class="o">.</span><span class="n">currentIndexChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_bottom_change</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list2</span><span class="o">.</span><span class="n">currentIndexChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_bottom_change</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list1</span><span class="o">.</span><span class="n">currentIndexChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_top_change</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list2</span><span class="o">.</span><span class="n">currentIndexChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_top_change</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">currentIndexChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_top_change</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title_top</span><span class="o">.</span><span class="n">textChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_top_change</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calendar_start</span><span class="o">.</span><span class="n">dateChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_top_change</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calendar_stop</span><span class="o">.</span><span class="n">dateChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_top_change</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">currentIndexChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_bottom_change</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title_bottom</span><span class="o">.</span><span class="n">textChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_bottom_change</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calendar_start</span><span class="o">.</span><span class="n">dateChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_bottom_change</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calendar_stop</span><span class="o">.</span><span class="n">dateChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_bottom_change</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_top</span> <span class="o">=</span> <span class="n">backend_graph</span><span class="o">.</span><span class="n">create_plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_top</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">top_plot_variables</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_bottom</span> <span class="o">=</span> <span class="n">backend_graph</span><span class="o">.</span><span class="n">create_plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_bottom</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom_plot_variables</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">title_top</span><span class="o">.</span><span class="n">setPlaceholderText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list1</span><span class="o">.</span><span class="n">currentText</span><span class="p">()[:</span><span class="mi">3</span><span class="p">]</span>
        <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list2</span><span class="o">.</span><span class="n">currentText</span><span class="p">()[:</span><span class="mi">3</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">title_bottom</span><span class="o">.</span><span class="n">setPlaceholderText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list1</span><span class="o">.</span><span class="n">currentText</span><span class="p">()[:</span><span class="mi">3</span><span class="p">]</span>
        <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list2</span><span class="o">.</span><span class="n">currentText</span><span class="p">()[:</span><span class="mi">3</span><span class="p">])</span>

        <span class="c1"># main tab layout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">QGridLayout</span><span class="p">()</span>  <span class="c1"># 2. layout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c1"># Ustawic to jako tab</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">button_settings</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">alignment</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">.</span><span class="n">AlignRight</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">title_top</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignLeft</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">title_bottom</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignRight</span><span class="p">)</span>

        <span class="c1"># currencies bottom layout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_label</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignHCenter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignHCenter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignHCenter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">swap_currencies_bottom</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignHCenter</span><span class="p">)</span>

        <span class="c1"># currencies top layout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_label</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignHCenter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignHCenter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignHCenter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">swap_currencies_top</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignHCenter</span><span class="p">)</span>

        <span class="c1"># checkbox layout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkbox</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignLeft</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">calendar_start_label</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignHCenter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">calendar_start</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">calendar_stop_label</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignHCenter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">calendar_stop</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">interval_label</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignHCenter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">interval</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">method_label</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignHCenter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">methods</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">button_plot</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignHCenter</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_top</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_bottom</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">mainTabStyleSheet</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="o">.</span><span class="n">layout</span><span class="p">)</span>

        <span class="n">ll</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="n">ll</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">layout</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setCentralWidget</span><span class="p">(</span><span class="n">ll</span><span class="p">)</span></div>

<div class="viewcode-block" id="Window.graph_preview_top_change"><a class="viewcode-back" href="../main.html#main.Window.graph_preview_top_change">[docs]</a>    <span class="k">def</span> <span class="nf">graph_preview_top_change</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_top</span> <span class="o">=</span> <span class="n">backend_graph</span><span class="o">.</span><span class="n">create_plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_top</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">top_plot_variables</span><span class="p">)</span></div>

<div class="viewcode-block" id="Window.graph_preview_bottom_change"><a class="viewcode-back" href="../main.html#main.Window.graph_preview_bottom_change">[docs]</a>    <span class="k">def</span> <span class="nf">graph_preview_bottom_change</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_bottom</span> <span class="o">=</span> <span class="n">backend_graph</span><span class="o">.</span><span class="n">create_plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_preview_bottom</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom_plot_variables</span><span class="p">)</span></div>

<div class="viewcode-block" id="Window.swap_currencies"><a class="viewcode-back" href="../main.html#main.Window.swap_currencies">[docs]</a>    <span class="k">def</span> <span class="nf">swap_currencies</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Swapping currencies.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list1</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list1</span><span class="o">.</span><span class="n">setCurrentText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list2</span><span class="o">.</span><span class="n">currentText</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list2</span><span class="o">.</span><span class="n">setCurrentText</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span></div>

<div class="viewcode-block" id="Window.swap_currencies2"><a class="viewcode-back" href="../main.html#main.Window.swap_currencies2">[docs]</a>    <span class="k">def</span> <span class="nf">swap_currencies2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Swaps the selected currencies in two dropdown menus.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list1</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list1</span><span class="o">.</span><span class="n">setCurrentText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list2</span><span class="o">.</span><span class="n">currentText</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list2</span><span class="o">.</span><span class="n">setCurrentText</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span></div>

<div class="viewcode-block" id="Window.important_add_tab"><a class="viewcode-back" href="../main.html#main.Window.important_add_tab">[docs]</a>    <span class="k">def</span> <span class="nf">important_add_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Adds or removes a tab from a list of &quot;important&quot; tabs, and sets or removes an icon to indicate whether the tab is important</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tab</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">currentWidget</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">tab</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">important_tabs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">setTabIcon</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">indexOf</span><span class="p">(</span><span class="n">tab</span><span class="p">),</span> <span class="n">QIcon</span><span class="p">(</span><span class="n">important_icon</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">important_tabs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tab</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">setTabIcon</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">indexOf</span><span class="p">(</span><span class="n">tab</span><span class="p">),</span> <span class="n">QIcon</span><span class="p">(</span><span class="n">not_important_icon</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">important_tabs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">important_tabs</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">tab</span><span class="p">))</span></div>

<div class="viewcode-block" id="Window.close_tab"><a class="viewcode-back" href="../main.html#main.Window.close_tab">[docs]</a>    <span class="k">def</span> <span class="nf">close_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Args:</span>
<span class="sd">                -index (int or bool): The index of the tab to be closed, or a boolean value indicating that the currently selected tab should be closed.</span>

<span class="sd">                Close the tab in QTabWidget.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">widget</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">important_tabs</span><span class="p">:</span>
                <span class="n">pressed</span> <span class="o">=</span> <span class="n">backend</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Czy chcesz zamknąć ważną kartę?&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Ważna karta&quot;</span><span class="p">,</span>
                                        <span class="n">icon</span><span class="o">=</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Question</span><span class="p">,</span>
                                        <span class="n">buttons</span><span class="o">=</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span> <span class="o">|</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">No</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">pressed</span> <span class="o">!=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span><span class="p">:</span>
                    <span class="k">return</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">indexOf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tab_main</span><span class="p">)</span> <span class="o">==</span> <span class="n">index</span><span class="p">:</span>
                <span class="k">return</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">indexOf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">creators_tab</span><span class="p">)</span> <span class="o">==</span> <span class="n">index</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">creators_tab</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">indexOf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_tab</span><span class="p">)</span> <span class="o">==</span> <span class="n">index</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">settings_tab</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">indexOf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">help_tab</span><span class="p">)</span> <span class="o">==</span> <span class="n">index</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">help_tab</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">graphs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">widget</span><span class="p">(</span><span class="n">index</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">removeTab</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>

            <span class="k">return</span>

        <span class="n">current_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">indexOf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">currentWidget</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">close_tab</span><span class="p">(</span><span class="n">current_index</span><span class="p">)</span></div>

<div class="viewcode-block" id="Window.settings"><a class="viewcode-back" href="../main.html#main.Window.settings">[docs]</a>    <span class="k">def</span> <span class="nf">settings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Function creating and displaying settings widget. When it already exists it switches to it.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_tab</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">indexOf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_tab</span><span class="p">))</span>
            <span class="k">return</span>

        <span class="n">tab</span><span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="n">backend_funcs</span><span class="o">.</span><span class="n">create_settings_tab</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">method_list</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">interval_list</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">close_tab</span><span class="p">,</span>
                                                   <span class="bp">self</span><span class="o">.</span><span class="n">save_settings_to_file</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">reset_settings</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">checkbox</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span> <span class="o">=</span> <span class="n">p</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="n">tab</span><span class="p">,</span> <span class="s2">&quot;Ustawienia&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">indexOf</span><span class="p">(</span><span class="n">tab</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">settings_tab</span> <span class="o">=</span> <span class="n">tab</span></div>

<div class="viewcode-block" id="Window.help"><a class="viewcode-back" href="../main.html#main.Window.help">[docs]</a>    <span class="k">def</span> <span class="nf">help</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">help_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;/help/index.html&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">help_file</span><span class="p">)</span>
        <span class="n">webbrowser</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;file:///&quot;</span> <span class="o">+</span> <span class="n">help_file</span><span class="p">)</span></div>
        <span class="c1"># if self.help_tab is not None:</span>
        <span class="c1">#     self.tabs.setCurrentIndex(self.tabs.indexOf(self.help_tab))</span>
        <span class="c1">#     return</span>

        <span class="c1"># tab = backend_funcs.create_help_tab(self.close_tab)</span>

        <span class="c1"># self.tabs.addTab(tab, &quot;Pomoc&quot;)</span>
        <span class="c1"># self.tabs.setCurrentIndex(self.tabs.indexOf(tab))</span>

        <span class="c1"># self.help_tab = tab</span>

<div class="viewcode-block" id="Window.creators"><a class="viewcode-back" href="../main.html#main.Window.creators">[docs]</a>    <span class="k">def</span> <span class="nf">creators</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Creators of project</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">creators_tab</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">indexOf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">creators_tab</span><span class="p">))</span>
            <span class="k">return</span>

        <span class="n">tab</span> <span class="o">=</span> <span class="n">backend_funcs</span><span class="o">.</span><span class="n">create_creators_tab</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">close_tab</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="n">tab</span><span class="p">,</span> <span class="s2">&quot;Twórcy&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">indexOf</span><span class="p">(</span><span class="n">tab</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">creators_tab</span> <span class="o">=</span> <span class="n">tab</span></div>

<div class="viewcode-block" id="Window.save_settings_to_file"><a class="viewcode-back" href="../main.html#main.Window.save_settings_to_file">[docs]</a>    <span class="k">def</span> <span class="nf">save_settings_to_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Saves the user&#39;s settings to a file named &quot;settings&quot;. The method sets various UI elements to the values in the settings_pack dictionary.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># self.currencies1.setCurrentText(self.settings_pack[&quot;currencies1&quot;].currentText())</span>
        <span class="c1"># self.currencies2.setCurrentText(self.settings_pack[&quot;currencies2&quot;].currentText())</span>
        <span class="c1"># self.methods.setCurrentText(self.settings_pack[&quot;methods&quot;].currentText())</span>
        <span class="c1"># self.interval.setCurrentText(self.settings_pack[&quot;intervals&quot;].currentText())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list1</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;currencies12&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list2</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;currencies21&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list1</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;currencies1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list2</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;currencies2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">methods</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;methods&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;intervals&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">())</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;date_checkbox&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">calendar_start</span><span class="o">.</span><span class="n">setDate</span><span class="p">(</span><span class="n">backend</span><span class="o">.</span><span class="n">string_to_date</span><span class="p">(</span><span class="n">backend</span><span class="o">.</span><span class="n">return_date</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;date_start&quot;</span><span class="p">])))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">calendar_stop</span><span class="o">.</span><span class="n">setDate</span><span class="p">(</span><span class="n">backend</span><span class="o">.</span><span class="n">string_to_date</span><span class="p">(</span><span class="n">backend</span><span class="o">.</span><span class="n">return_date</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;date_stop&quot;</span><span class="p">])))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">calendar_start</span><span class="o">.</span><span class="n">setDate</span><span class="p">(</span><span class="n">QDate</span><span class="o">.</span><span class="n">currentDate</span><span class="p">()</span><span class="o">.</span><span class="n">addYears</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">calendar_stop</span><span class="o">.</span><span class="n">setDate</span><span class="p">(</span><span class="n">QDate</span><span class="o">.</span><span class="n">currentDate</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;date_start&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">setDate</span><span class="p">(</span><span class="n">QDate</span><span class="o">.</span><span class="n">currentDate</span><span class="p">()</span><span class="o">.</span><span class="n">addYears</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;date_stop&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">setDate</span><span class="p">(</span><span class="n">QDate</span><span class="o">.</span><span class="n">currentDate</span><span class="p">())</span>

        <span class="c1"># currency1 = &quot;currency1:&quot; + self.settings_pack[&quot;currencies1&quot;].currentText() + &#39;\n&#39;</span>
        <span class="c1"># currency2 = &quot;currency2:&quot; + self.settings_pack[&quot;currencies2&quot;].currentText() + &#39;\n&#39;</span>
        <span class="c1"># method = &quot;method:&quot; + self.settings_pack[&quot;methods&quot;].currentText() + &#39;\n&#39;</span>
        <span class="c1"># interval = &quot;interval:&quot; + self.settings_pack[&quot;intervals&quot;].currentText() + &#39;\n&#39;</span>

        <span class="n">currency1</span> <span class="o">=</span> <span class="s2">&quot;currency1:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;currencies1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">())</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">currency2</span> <span class="o">=</span> <span class="s2">&quot;currency2:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;currencies2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">())</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">currency12</span> <span class="o">=</span> <span class="s2">&quot;currency12:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;currencies12&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">())</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">currency21</span> <span class="o">=</span> <span class="s2">&quot;currency21:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;currencies21&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">())</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">method</span> <span class="o">=</span> <span class="s2">&quot;method:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;methods&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">())</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">interval</span> <span class="o">=</span> <span class="s2">&quot;interval:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;intervals&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">())</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

        <span class="n">date_start</span> <span class="o">=</span> <span class="s2">&quot;date_start:&quot;</span> <span class="o">+</span> <span class="n">backend</span><span class="o">.</span><span class="n">return_date</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;date_start&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">date_stop</span> <span class="o">=</span> <span class="s2">&quot;date_stop:&quot;</span> <span class="o">+</span> <span class="n">backend</span><span class="o">.</span><span class="n">return_date</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;date_stop&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">checkbox</span> <span class="o">=</span> <span class="s2">&quot;checkbox:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;date_checkbox&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isChecked</span><span class="p">())</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">settings</span> <span class="o">=</span> <span class="p">[</span><span class="n">currency1</span><span class="p">,</span> <span class="n">currency2</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">date_start</span><span class="p">,</span> <span class="n">date_stop</span><span class="p">,</span> <span class="n">checkbox</span><span class="p">,</span>
         <span class="n">currency12</span><span class="p">,</span> <span class="n">currency21</span><span class="p">]</span>
        <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;settings&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">writelines</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span></div>

<div class="viewcode-block" id="Window.read_settings_from_file"><a class="viewcode-back" href="../main.html#main.Window.read_settings_from_file">[docs]</a>    <span class="k">def</span> <span class="nf">read_settings_from_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Reads the user&#39;s settings from a file named &quot;settings&quot; and populates the settings_pack dictionary with the values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;settings&#39;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
        <span class="n">settings</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;currencies1&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;currencies2&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                              <span class="s2">&quot;methods&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;intervals&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;date_start&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                              <span class="s2">&quot;date_stop&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="s2">&quot;date_checkbox&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                              <span class="s2">&quot;currencies12&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span> <span class="s2">&quot;currencies21&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">[</span><span class="mi">8</span><span class="p">]}</span></div>

<div class="viewcode-block" id="Window.reset_settings"><a class="viewcode-back" href="../main.html#main.Window.reset_settings">[docs]</a>    <span class="k">def</span> <span class="nf">reset_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Resets the user&#39;s settings to their default values by reading the &quot;default_settings&quot; file and overwriting the &quot;settings&quot; file with the default values.</span>
<span class="sd">            The method then closes the current tab and opens the settings tab to show the new settings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;default_settings&#39;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
        <span class="n">settings</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;currencies1&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;currencies2&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                              <span class="s2">&quot;methods&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;intervals&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;date_start&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                              <span class="s2">&quot;date_stop&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="s2">&quot;date_checkbox&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                              <span class="s2">&quot;currencies12&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span> <span class="s2">&quot;currencies21&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">[</span><span class="mi">8</span><span class="p">]}</span>

        <span class="n">currency1</span> <span class="o">=</span> <span class="s2">&quot;currency1:&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;currencies1&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">currency2</span> <span class="o">=</span> <span class="s2">&quot;currency2:&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;currencies2&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">currency12</span> <span class="o">=</span> <span class="s2">&quot;currency12:&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;currencies12&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">currency21</span> <span class="o">=</span> <span class="s2">&quot;currency21:&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;currencies21&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">method</span> <span class="o">=</span> <span class="s2">&quot;method:&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;methods&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">interval</span> <span class="o">=</span> <span class="s2">&quot;interval:&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;intervals&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">date_start</span> <span class="o">=</span> <span class="s2">&quot;date_start:&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;date_start&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">date_stop</span> <span class="o">=</span> <span class="s2">&quot;date_stop:&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;date_stop&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">checkbox</span> <span class="o">=</span> <span class="s2">&quot;checkbox:&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_pack</span><span class="p">[</span><span class="s2">&quot;date_checkbox&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">settings_new</span> <span class="o">=</span> <span class="p">[</span><span class="n">currency1</span><span class="p">,</span> <span class="n">currency2</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">date_start</span><span class="p">,</span> <span class="n">date_stop</span><span class="p">,</span> <span class="n">checkbox</span><span class="p">,</span>
        <span class="n">currency12</span><span class="p">,</span> <span class="n">currency21</span><span class="p">]</span>
        <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;settings&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">writelines</span><span class="p">(</span><span class="n">settings_new</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">close_tab</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="p">()</span></div>

    <span class="c1"># load csv (with anomaly column)</span>
<div class="viewcode-block" id="Window.graph_from_file"><a class="viewcode-back" href="../main.html#main.Window.graph_from_file">[docs]</a>    <span class="k">def</span> <span class="nf">graph_from_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Allows the user to select a CSV file using a file dialog, which is then used to create a graph.</span>
<span class="sd">            The method first displays a file dialog using the `getOpenFileName()` method of the `QFileDialog` class, which allows the user to select a CSV file.</span>
<span class="sd">            If the user selects a file, the `download_csv()` function from the `backend` module is called with a list containing the selected file.</span>
<span class="sd">            The `download_csv()` function reads the CSV file and returns a list containing a `pandas` DataFrame for each CSV file.</span>
<span class="sd">            The method then checks for any errors and displays an error message if necessary.</span>
<span class="sd">            If there are no errors, the method creates a dictionary `pack` with keys for the graph method, the CSV data, the title of the graph, the x-axis label, and the y-axis label.</span>
<span class="sd">            The `pack_data()` method is then called with the `pack` dictionary to create a graph from the CSV data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">QFileDialog</span><span class="o">.</span><span class="n">getOpenFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Detektor anomalii&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;CSV Files (*.csv *.txt)&quot;</span><span class="p">,</span>
                                              <span class="n">options</span><span class="o">=</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">Options</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">file</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">file</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span> <span class="k">return</span>

        <span class="n">csv_list</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="n">backend</span><span class="o">.</span><span class="n">download_csv</span><span class="p">([</span><span class="n">file</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">error</span> <span class="o">==</span> <span class="s2">&quot;empty&quot;</span><span class="p">:</span>
            <span class="n">backend</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Błedny plik&quot;</span><span class="p">,</span> <span class="s2">&quot;Wprowadzony plik jest pusty lub posiada zbyt mało danych&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">csv_list</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">any</span><span class="p">(</span><span class="n">csv</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">csv</span> <span class="ow">in</span> <span class="n">csv_list</span><span class="p">):</span> <span class="k">return</span>

        <span class="n">pack</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;csv&quot;</span><span class="p">:</span> <span class="n">csv_list</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Wykres &quot;</span> <span class="o">+</span> <span class="n">file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="s2">&quot;Date&quot;</span><span class="p">,</span>
                <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;Exchange&quot;</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pack_data</span><span class="p">(</span><span class="n">pack</span><span class="p">)</span></div>

    <span class="c1"># load csv (without anomaly column)</span>
<div class="viewcode-block" id="Window.file_open"><a class="viewcode-back" href="../main.html#main.Window.file_open">[docs]</a>    <span class="k">def</span> <span class="nf">file_open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Allows the user to select a CSV file using a file dialog and create a graph from the data in the selected file.</span>
<span class="sd">            The method first displays a file dialog using the `getOpenFileName()` method of the `QFileDialog` class, which allows the user to select a CSV file.</span>
<span class="sd">            If the user selects a file, the `create_graph_tab()` function from the `backend_funcs` module is called with the selected file, a list of available graph methods, and several callback functions.</span>
<span class="sd">            The `create_graph_tab()` function reads the CSV file and creates a tab containing a graph and controls for the user to adjust the graph settings.</span>
<span class="sd">            The `create_graph_tab()` function returns a tuple containing the graph tab and a dictionary containing the graph data and settings.</span>
<span class="sd">            If there are errors creating the graph tab or dictionary, the method returns early. If the graph tab and dictionary are successfully created, the method adds the graph tab to the</span>
<span class="sd">            `QTabWidget` object and sets the current tab to the new graph tab.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">QFileDialog</span><span class="o">.</span><span class="n">getOpenFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Detektor anomalii&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;CSV Files (*.csv *.txt)&quot;</span><span class="p">,</span>
                                              <span class="n">options</span><span class="o">=</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">Options</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">file</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">file</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span> <span class="k">return</span>

        <span class="n">tab</span><span class="p">,</span> <span class="n">pack</span> <span class="o">=</span> <span class="n">backend_funcs</span><span class="o">.</span><span class="n">create_graph_tab</span><span class="p">(</span><span class="n">close</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">close_tab</span><span class="p">,</span> <span class="n">pack_fun</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pack_data</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">file</span><span class="p">,</span>
                                                   <span class="n">methods_list</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">method_list</span><span class="p">,</span> <span class="n">important</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">important_add_tab</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">tab</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">pack</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pack</span><span class="p">[</span><span class="n">tab</span><span class="p">]</span> <span class="o">=</span> <span class="n">pack</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="n">tab</span><span class="p">,</span> <span class="n">file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">indexOf</span><span class="p">(</span><span class="n">tab</span><span class="p">))</span></div>

    <span class="c1"># load csv (used while loading data without anomaly as an trigger to button named &quot;Wygeneruj wykres&quot;)</span>
<div class="viewcode-block" id="Window.pack_data"><a class="viewcode-back" href="../main.html#main.Window.pack_data">[docs]</a>    <span class="k">def</span> <span class="nf">pack_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pack</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Create graph from provided data. Load graph with or without anomalies. If the pack is false create graph without anomalies.</span>
<span class="sd">            If data is incomplete or has ane errors error message is showed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">from_file</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">errors</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="k">if</span> <span class="n">pack</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>   <span class="c1"># load without anomaly (&quot;Otwórz&quot;)</span>
            <span class="n">pack</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pack</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">currentWidget</span><span class="p">()]</span>
            <span class="n">from_file</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">method</span> <span class="o">=</span> <span class="n">pack</span><span class="p">[</span><span class="s2">&quot;method&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
            <span class="n">title</span> <span class="o">=</span> <span class="n">pack</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
            <span class="n">date</span> <span class="o">=</span> <span class="n">pack</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
            <span class="n">target</span> <span class="o">=</span> <span class="p">[</span><span class="n">elem</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">pack</span><span class="p">[</span><span class="s2">&quot;target&quot;</span><span class="p">]]</span>
            <span class="k">if</span> <span class="s1">&#39;Nie wybrano&#39;</span> <span class="ow">in</span> <span class="n">target</span><span class="p">:</span> <span class="n">target</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">target</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">backend</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Wybrano te same kolumny&quot;</span><span class="p">);</span> <span class="k">return</span>
            <span class="n">csv</span> <span class="o">=</span> <span class="n">pack</span><span class="p">[</span><span class="s2">&quot;csv&quot;</span><span class="p">]</span>
            <span class="n">date_format</span> <span class="o">=</span> <span class="n">pack</span><span class="p">[</span><span class="s2">&quot;format1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="n">pack</span><span class="p">[</span><span class="s2">&quot;format2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="n">pack</span><span class="p">[</span>
                <span class="s2">&quot;format3&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">csv</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>   <span class="c1"># in case of incomplete data</span>
                <span class="n">backend</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Dane zawierają wartości nieokreślone: nan&#39;</span><span class="p">)</span>
                <span class="k">return</span>

            <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">csv</span><span class="p">[</span><span class="n">date</span><span class="p">]:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span> <span class="n">errors</span> <span class="o">+=</span> <span class="s2">&quot;Błędne dane w kolumnie &quot;</span> <span class="o">+</span> <span class="n">date</span> <span class="o">+</span> <span class="s2">&quot;, dane muszą być w formie textu&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span> <span class="k">break</span>
            <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">target</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">csv</span><span class="p">[</span><span class="n">t</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span> <span class="n">errors</span> <span class="o">+=</span> <span class="s2">&quot;Błędne dane w kolumnie &quot;</span> <span class="o">+</span> <span class="n">t</span> <span class="o">+</span> <span class="s2">&quot;, dane muszą być liczbą rzeczywistą&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span> <span class="k">break</span>
            <span class="k">if</span> <span class="n">errors</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span> <span class="n">backend</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">errors</span><span class="p">);</span> <span class="k">return</span>
            <span class="k">elif</span> <span class="n">backend</span><span class="o">.</span><span class="n">check_date</span><span class="p">(</span><span class="n">csv</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">date_format</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>   <span class="c1"># load with anomaly (&quot;Otwórz graf&quot;)</span>
            <span class="n">method</span> <span class="o">=</span> <span class="n">pack</span><span class="p">[</span><span class="s2">&quot;method&quot;</span><span class="p">]</span>
            <span class="n">title</span> <span class="o">=</span> <span class="n">pack</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span>
            <span class="n">date</span> <span class="o">=</span> <span class="n">pack</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span>
            <span class="n">target</span> <span class="o">=</span> <span class="n">pack</span><span class="p">[</span><span class="s2">&quot;target&quot;</span><span class="p">]</span>
            <span class="n">csv</span> <span class="o">=</span> <span class="n">pack</span><span class="p">[</span><span class="s2">&quot;csv&quot;</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">csv</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>   <span class="c1"># in case of incomplete data</span>
                <span class="n">backend</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Dane zawierają wartości nieokreślone: nan&#39;</span><span class="p">)</span>
                <span class="k">return</span>

            <span class="n">columns</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>  <span class="c1"># get list of columns in csv file</span>

            <span class="k">if</span> <span class="n">from_file</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">([</span><span class="n">name</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">columns</span> <span class="k">if</span> <span class="s1">&#39;Anomaly&#39;</span> <span class="ow">in</span> <span class="n">name</span><span class="p">]):</span>  <span class="c1"># for graph_from_file() Anomaly is mandatory</span>
                <span class="n">backend</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Nie znaleziono informacji o anomaliach&quot;</span><span class="p">)</span>
                <span class="k">return</span>

            <span class="n">current_columns_names</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">expected_columns</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">columns</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span>
                    <span class="n">current_columns_names</span> <span class="o">=</span> <span class="n">key</span>     <span class="c1"># get suit key, based on values</span>
                    <span class="k">break</span>

            <span class="k">if</span> <span class="n">current_columns_names</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;single_with_anomaly_all&#39;</span><span class="p">,</span> <span class="s1">&#39;multiple_with_anomaly_all&#39;</span><span class="p">]:</span>
                <span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;Wszystkie&#39;</span>    <span class="c1"># needed in graph_init, no info about that from csv</span>

            <span class="k">if</span> <span class="n">current_columns_names</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
                    <span class="k">if</span> <span class="s1">&#39;Date&#39;</span> <span class="ow">in</span> <span class="n">col</span> <span class="ow">and</span> <span class="n">backend</span><span class="o">.</span><span class="n">check_date</span><span class="p">(</span><span class="n">csv</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="s1">&#39;Rok-Miesiąc-Dzień&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="k">return</span>
                    <span class="k">elif</span> <span class="s1">&#39;Exchange&#39;</span> <span class="ow">in</span> <span class="n">col</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">csv</span><span class="p">[</span><span class="n">col</span><span class="p">]:</span>
                            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span> <span class="n">errors</span> <span class="o">+=</span> <span class="s2">&quot;Błędne dane w kolumnie &quot;</span> <span class="o">+</span> <span class="n">col</span> <span class="o">+</span> <span class="s2">&quot;, dane muszą być liczbą rzeczywistą&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span> <span class="k">break</span>
                    <span class="k">elif</span> <span class="s1">&#39;Anomaly&#39;</span> <span class="ow">in</span> <span class="n">col</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">csv</span><span class="p">[</span><span class="n">col</span><span class="p">]:</span>
                            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span> <span class="n">errors</span> <span class="o">+=</span> <span class="s2">&quot;Błędne dane w kolumnie &quot;</span> <span class="o">+</span> <span class="n">col</span> <span class="o">+</span> <span class="s2">&quot;, dane muszą być wartościami True lub False&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span> <span class="k">break</span>
                <span class="k">if</span> <span class="n">errors</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span> <span class="n">backend</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">errors</span><span class="p">);</span> <span class="k">return</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">expected_columns</span><span class="o">.</span><span class="n">items</span><span class="p">():</span> <span class="n">errors</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; -&gt; &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="n">backend</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Niepoprawne nazwy kolumn, możliwe formaty: </span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">errors</span><span class="p">)</span>
                <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_graph</span><span class="p">(</span><span class="n">csv_list</span><span class="o">=</span><span class="p">[</span><span class="n">csv</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
                          <span class="n">with_anomalies</span><span class="o">=</span><span class="n">from_file</span><span class="p">)</span></div>

    <span class="c1"># download csv</span>
<div class="viewcode-block" id="Window.download_data"><a class="viewcode-back" href="../main.html#main.Window.download_data">[docs]</a>    <span class="k">def</span> <span class="nf">download_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Downloading data from current opened graph. Ask user if he wants to downlaod anomaly data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pressed</span> <span class="o">=</span> <span class="n">backend</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Czy chcesz również pobrać dane o anomaliach?&quot;</span><span class="p">,</span> <span class="n">icon</span><span class="o">=</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Question</span><span class="p">,</span>
                                <span class="n">buttons</span><span class="o">=</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span> <span class="o">|</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">No</span> <span class="o">|</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Dane&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">pressed</span> <span class="o">!=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">:</span>
            <span class="n">graphs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">graphs</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">currentWidget</span><span class="p">()]</span> <span class="c1"># get graphs from current tab</span>
            <span class="n">datas</span> <span class="o">=</span> <span class="p">[</span><span class="n">graph</span><span class="o">.</span><span class="n">anomalies_to_download</span><span class="p">[</span><span class="n">graph</span><span class="o">.</span><span class="n">data_indexes</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span><span class="n">graph</span><span class="o">.</span><span class="n">data_indexes</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="k">for</span> <span class="n">graph</span> <span class="ow">in</span> <span class="n">graphs</span><span class="p">]</span>  <span class="c1"># get datas</span>

            <span class="k">if</span> <span class="n">pressed</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">No</span><span class="p">:</span>   <span class="c1"># if we want to download only data (without anomaly)</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">datas</span><span class="p">)):</span>
                    <span class="k">if</span> <span class="n">graphs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;Wszystkie&quot;</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">anomalies</span> <span class="ow">in</span> <span class="n">graphs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">anomalies_list</span><span class="p">:</span>
                            <span class="n">datas</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">datas</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">anomalies</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>     <span class="c1"># dropping columns with anomaly</span>
                    <span class="k">else</span><span class="p">:</span> <span class="n">datas</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">datas</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;Anomaly&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

            <span class="n">file</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">QFileDialog</span><span class="o">.</span><span class="n">getSaveFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Detektor anomalii&quot;</span><span class="p">,</span> <span class="s2">&quot;anomaly detection data&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;CSV Files (*.csv);;Text Files(*.txt)&quot;</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">Options</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">file</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span> <span class="ow">or</span> <span class="nb">any</span><span class="p">(</span><span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">datas</span><span class="p">):</span> <span class="k">return</span>

            <span class="c1"># decide what kind of data should we download, based on number of graphs from currentWidget (not by checkbox.isClicked)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graphs</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">currentWidget</span><span class="p">()])</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">datas</span><span class="p">)):</span> <span class="c1"># go through list of dataframes and add index to every column name</span>
                    <span class="n">col_list</span> <span class="o">=</span> <span class="n">datas</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="c1"># get list of column names</span>
                    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">col_list</span><span class="p">)):</span>
                        <span class="n">datas</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="n">col_list</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">:</span> <span class="n">col_list</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># add index to column name</span>
                    <span class="n">merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">merged</span><span class="p">,</span> <span class="n">datas</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># append single dataframe to merged dataframe</span>
                <span class="c1"># delete one of Date columns (same data, so can be deleted)</span>
                <span class="n">merged</span> <span class="o">=</span> <span class="n">merged</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Date-2&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">merged</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Date-1&#39;</span> <span class="p">:</span> <span class="s1">&#39;Date&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span> <span class="n">merged</span> <span class="o">=</span> <span class="n">datas</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">merged</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">PermissionError</span><span class="p">:</span>
                <span class="n">backend</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Brak dostępu do lokalizacji pliku&quot;</span><span class="p">,</span> <span class="s2">&quot;Sprawdź czy plik jest zamknięty jeśli istnieje.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> <span class="k">return</span></div>

    <span class="c1"># download img</span>
<div class="viewcode-block" id="Window.download_graph"><a class="viewcode-back" href="../main.html#main.Window.download_graph">[docs]</a>    <span class="k">def</span> <span class="nf">download_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            User can download graph as PNG or JPEG file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">graphs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">graphs</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">currentWidget</span><span class="p">()]</span>

        <span class="n">exporter_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">array_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">graphs</span><span class="p">)):</span>
            <span class="n">plt</span> <span class="o">=</span> <span class="n">graphs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">graph</span>
            <span class="n">exporter_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">exporters</span><span class="o">.</span><span class="n">ImageExporter</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">plotItem</span><span class="p">))</span>
            <span class="n">exporter_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">parameters</span><span class="p">()[</span><span class="s1">&#39;width&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1920</span>
            <span class="n">array_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fn</span><span class="o">.</span><span class="n">ndarray_from_qimage</span><span class="p">(</span><span class="n">exporter_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">toBytes</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>

        <span class="n">file</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">QFileDialog</span><span class="o">.</span><span class="n">getSaveFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Detektor anomalii&quot;</span><span class="p">,</span> <span class="s2">&quot;anomaly detection plot&quot;</span><span class="p">,</span>
                                              <span class="s2">&quot;PNG Files (*.png);;JPEG Files(*.jpg)&quot;</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">Options</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">file</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span> <span class="k">return</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graphs</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">currentWidget</span><span class="p">()])</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">output_img</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">array_list</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">array_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span> <span class="n">output_img</span> <span class="o">=</span> <span class="n">array_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="n">extension</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">extension</span> <span class="o">==</span> <span class="s1">&#39;jpg&#39;</span><span class="p">:</span>
                <span class="n">output_img</span> <span class="o">=</span> <span class="n">output_img</span><span class="p">[:,</span> <span class="p">:,</span> <span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># cut alpha channel</span>
                <span class="n">output_img</span> <span class="o">=</span> <span class="n">output_img</span><span class="p">[:,</span> <span class="p">:,</span> <span class="p">::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># swap from BGR to RGB for .jpg</span>
            <span class="k">elif</span> <span class="n">extension</span> <span class="o">==</span> <span class="s1">&#39;png&#39;</span><span class="p">:</span>
                <span class="n">output_img</span><span class="p">[:,</span> <span class="p">:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span> <span class="o">=</span> <span class="n">output_img</span><span class="p">[:,</span> <span class="p">:,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>  <span class="c1"># swap from BGRA to RGBA for .png</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">fromarray</span><span class="p">(</span><span class="n">output_img</span><span class="p">)</span>
            <span class="n">i</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">PermissionError</span><span class="p">:</span>
            <span class="n">backend</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Brak dostępu do lokalizacji pliku&quot;</span><span class="p">,</span> <span class="s2">&quot;Sprawdź czy plik jest zamknięty jeśli istnieje.&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="n">backend</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unhandled exception&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Window.create_plot"><a class="viewcode-back" href="../main.html#main.Window.create_plot">[docs]</a>    <span class="k">def</span> <span class="nf">create_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Create new graph with data from user settings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">date</span> <span class="o">=</span> <span class="s2">&quot;Data&quot;</span>
        <span class="n">target</span> <span class="o">=</span> <span class="s2">&quot;Zamkniecie&quot;</span>

        <span class="n">date_start</span> <span class="o">=</span> <span class="n">backend</span><span class="o">.</span><span class="n">return_date</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">calendar_start</span><span class="p">)</span>
        <span class="n">date_stop</span> <span class="o">=</span> <span class="n">backend</span><span class="o">.</span><span class="n">return_date</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">calendar_stop</span><span class="p">)</span>
        <span class="n">interval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">interval</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">method</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">methods</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">currencies</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="n">currencies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list1</span><span class="o">.</span><span class="n">currentText</span><span class="p">()[:</span><span class="mi">3</span><span class="p">])</span>
        <span class="n">currencies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">currencies_bottom_list2</span><span class="o">.</span><span class="n">currentText</span><span class="p">()[:</span><span class="mi">3</span><span class="p">])</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">checkbox</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
            <span class="n">currencies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list1</span><span class="o">.</span><span class="n">currentText</span><span class="p">()[:</span><span class="mi">3</span><span class="p">])</span>
            <span class="n">currencies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">currencies_top_list2</span><span class="o">.</span><span class="n">currentText</span><span class="p">()[:</span><span class="mi">3</span><span class="p">])</span>
        <span class="n">title_top</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">title_top</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">title_bottom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">title_bottom</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">title_top</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span> <span class="n">title_top</span> <span class="o">=</span> <span class="n">currencies</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="n">currencies</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">checkbox</span><span class="o">.</span><span class="n">isChecked</span><span class="p">()</span> <span class="ow">and</span> <span class="n">title_bottom</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span> <span class="n">title_bottom</span> <span class="o">=</span> <span class="n">currencies</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="n">currencies</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

        <span class="n">links</span> <span class="o">=</span> <span class="n">backend</span><span class="o">.</span><span class="n">create_link</span><span class="p">(</span><span class="n">currencies</span><span class="p">,</span> <span class="n">date_start</span><span class="p">,</span> <span class="n">date_stop</span><span class="p">,</span> <span class="n">interval</span><span class="p">)</span>
        <span class="n">csv_list</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="n">backend</span><span class="o">.</span><span class="n">download_csv</span><span class="p">(</span><span class="n">links</span><span class="p">)</span>

        <span class="c1"># in case of different number rows or cols, just return error, there is no reason for differential analysis</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">csv_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">csv_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span> <span class="o">!=</span> <span class="n">csv_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">:</span>
            <span class="n">backend</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Dane nie posiadają tej samej ilości wierszy lub kolumn&#39;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">error</span> <span class="o">==</span> <span class="s2">&quot;connection error&quot;</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">csv_list</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">backend</span><span class="o">.</span><span class="n">input_errors</span><span class="p">(</span><span class="n">currencies</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">calendar_start</span><span class="o">.</span><span class="n">date</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">calendar_stop</span><span class="o">.</span><span class="n">date</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">create_graph</span><span class="p">(</span><span class="n">csv_list</span><span class="o">=</span><span class="n">csv_list</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="p">[</span><span class="n">title_top</span><span class="p">,</span> <span class="n">title_bottom</span><span class="p">],</span> <span class="n">currencies</span><span class="o">=</span><span class="n">currencies</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">checkbox</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">differential</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">create_graph</span><span class="p">(</span><span class="n">csv_list</span><span class="o">=</span><span class="n">csv_list</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="p">[</span><span class="n">title_top</span> <span class="o">+</span> <span class="s1">&#39; - Analiza różnicowa&#39;</span><span class="p">,</span> <span class="n">title_bottom</span> <span class="o">+</span> <span class="s1">&#39; - Analiza różnicowa&#39;</span><span class="p">],</span> <span class="n">currencies</span><span class="o">=</span><span class="n">currencies</span><span class="p">)</span></div>

<div class="viewcode-block" id="Window.create_graph"><a class="viewcode-back" href="../main.html#main.Window.create_graph">[docs]</a>    <span class="k">def</span> <span class="nf">create_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">csv_list</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">currencies</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">with_anomalies</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Creating new tab with graph based on provided data.</span>
<span class="sd">            If &#39;with_anomalies&#39; is true, graph will include anommalies.</span>

<span class="sd">            Args:</span>
<span class="sd">                -csv_list: a list of pandas DataFrames containing the data to be plotted.</span>
<span class="sd">                -method: a string representing the anomaly detection method to use.</span>
<span class="sd">                -date: a string representing the name of the column in the data containing dates.</span>
<span class="sd">                -target: a string or list of strings representing the names of the columns in the data containing the target variables to be plotted.</span>
<span class="sd">                -title: an optional string representing the title of the graph.</span>
<span class="sd">                -currencies: an optional list of strings representing the currencies used in the data, used to set the title of the graph.</span>
<span class="sd">                -with_anomalies: a boolean indicating whether the graph should include anomalies.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">currencies</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="n">currencies</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span> <span class="c1"># legacy</span>
        <span class="n">tab</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="n">tab</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
        <span class="n">horizontal_layout</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>
        <span class="n">graph_settings_layout</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>

        <span class="n">button_data</span> <span class="o">=</span> <span class="n">backend_funcs</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="n">buttonStyleSheet</span><span class="p">,</span> <span class="n">max_size</span><span class="o">=</span><span class="p">(</span><span class="mi">185</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Pobierz dane&quot;</span><span class="p">,</span>
                                                  <span class="n">function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">download_data</span><span class="p">)</span>

        <span class="n">button_important</span> <span class="o">=</span> <span class="n">backend_funcs</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="n">buttonStyleSheet</span><span class="p">,</span> <span class="n">icon</span><span class="o">=</span><span class="n">QIcon</span><span class="p">(</span><span class="n">important_icon</span><span class="p">),</span>
                                                       <span class="n">function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">important_add_tab</span><span class="p">,</span> <span class="n">max_size</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">40</span><span class="p">))</span>

        <span class="n">button_graph</span> <span class="o">=</span> <span class="n">backend_funcs</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="n">buttonStyleSheet</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Zapisz&quot;</span><span class="p">,</span> <span class="n">max_size</span><span class="o">=</span><span class="p">(</span><span class="mi">185</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span>
                                                   <span class="n">function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">download_graph</span><span class="p">)</span>

        <span class="n">button_close</span> <span class="o">=</span> <span class="n">backend_funcs</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="n">buttonStyleSheet</span><span class="p">,</span> <span class="n">max_size</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">40</span><span class="p">),</span> <span class="n">icon</span><span class="o">=</span><span class="n">QIcon</span><span class="p">(</span><span class="n">close_icon</span><span class="p">),</span>
                                                   <span class="n">function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">close_tab</span><span class="p">)</span>

        <span class="n">refresh_checkbox</span> <span class="o">=</span> <span class="n">QCheckBox</span><span class="p">()</span>
        <span class="n">refresh_checkbox</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Odświeżaj anomalie&quot;</span><span class="p">)</span>
        <span class="n">refresh_checkbox</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">button_refresh</span> <span class="o">=</span> <span class="n">backend_funcs</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="n">buttonStyleSheet</span><span class="p">,</span> <span class="n">max_size</span><span class="o">=</span><span class="p">(</span><span class="mi">185</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Odśwież&quot;</span><span class="p">)</span>

        <span class="n">button_reset_graph</span> <span class="o">=</span> <span class="n">backend_funcs</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="n">buttonStyleSheet</span><span class="p">,</span> <span class="n">max_size</span><span class="o">=</span><span class="p">(</span><span class="mi">185</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Resetuj&quot;</span><span class="p">)</span>

        <span class="n">button_flip</span> <span class="o">=</span> <span class="n">backend_funcs</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="n">buttonStyleSheet</span><span class="p">,</span> <span class="n">max_size</span><span class="o">=</span><span class="p">(</span><span class="mi">185</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Zamień waluty&quot;</span><span class="p">)</span>

        <span class="n">slider</span> <span class="o">=</span> <span class="n">QSlider</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Horizontal</span><span class="p">)</span>
        <span class="n">slider</span><span class="o">.</span><span class="n">setFocusPolicy</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">StrongFocus</span><span class="p">)</span>
        <span class="n">slider</span><span class="o">.</span><span class="n">setTickPosition</span><span class="p">(</span><span class="n">QSlider</span><span class="o">.</span><span class="n">TicksBothSides</span><span class="p">)</span>
        <span class="n">slider</span><span class="o">.</span><span class="n">setTickInterval</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">slider</span><span class="o">.</span><span class="n">setSingleStep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">slider</span><span class="o">.</span><span class="n">setRange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

        <span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">()</span>
        <span class="n">label</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">labelStyleSheet</span><span class="p">)</span>
        <span class="n">horizontal_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">Alignment</span><span class="p">())</span>
        <span class="n">horizontal_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">button_graph</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">Alignment</span><span class="p">())</span>
        <span class="n">horizontal_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">button_data</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">Alignment</span><span class="p">())</span>
        <span class="n">horizontal_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">button_important</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">Alignment</span><span class="p">())</span>
        <span class="n">horizontal_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">button_close</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">Alignment</span><span class="p">())</span>
        <span class="n">tab</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">horizontal_layout</span><span class="p">)</span>

        <span class="n">slider_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Czułość metody&quot;</span><span class="p">)</span>
        <span class="n">slider_label</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">labelStyleSheet</span><span class="p">)</span>

        <span class="n">date_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Data: &quot;</span><span class="p">)</span>
        <span class="n">date_label</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">labelStyleSheet</span><span class="p">)</span>

        <span class="n">value_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Wartość: &quot;</span><span class="p">)</span>
        <span class="n">value_label</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">labelStyleSheet</span><span class="p">)</span>

        <span class="n">button_reset</span> <span class="o">=</span> <span class="n">backend_funcs</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="n">buttonStyleSheet</span><span class="p">,</span> <span class="n">min_size</span><span class="o">=</span><span class="p">(</span><span class="mi">110</span><span class="p">,</span> <span class="mi">40</span><span class="p">),</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Reset&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">with_anomalies</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="n">tab</span><span class="p">,</span> <span class="n">title</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="n">title</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">csv_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">new_title</span> <span class="o">=</span> <span class="n">title</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_title</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="n">tab</span><span class="p">,</span> <span class="n">method</span> <span class="o">+</span> <span class="n">new_title</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="n">title</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="n">tab</span><span class="p">,</span> <span class="n">method</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="n">title</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="n">tab</span><span class="p">,</span> <span class="n">method</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">title</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="n">title</span><span class="p">)</span>

        <span class="n">new_graphs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

        <span class="n">new_csv_list</span> <span class="o">=</span> <span class="n">split_csv</span><span class="p">(</span><span class="n">csv_list</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">rename</span><span class="o">=</span><span class="n">with_anomalies</span><span class="p">)</span>   <span class="c1"># try to split csv</span>
        <span class="k">if</span> <span class="n">new_csv_list</span><span class="p">:</span> <span class="n">csv_list</span> <span class="o">=</span> <span class="n">new_csv_list</span>    <span class="c1"># if splitting was success, override cev_list</span>

        <span class="c1"># if Exchange_2 and _1 are taken, but split_csv() always split in order, so might happened _2 != _1 and _1 != _2</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="n">target</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">csv_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">():</span>
            <span class="n">csv_list</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>  <span class="c1"># reorder</span>

        <span class="c1"># in case if user want to generate 1 plot from csv that can generate 2 plots</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">target</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">csv_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">target</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">csv_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">():</span>
                <span class="n">csv_list</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">target</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">csv_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">():</span>
                <span class="n">csv_list</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">differential</span><span class="p">:</span>
            <span class="n">csv_list</span> <span class="o">=</span> <span class="n">differential_analysis</span><span class="o">.</span><span class="n">get_anomalies</span><span class="p">(</span><span class="n">csv_list</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">date</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">differential</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">target</span> <span class="o">=</span> <span class="s1">&#39;Exchange&#39;</span>
            <span class="n">date</span> <span class="o">=</span> <span class="s1">&#39;Date&#39;</span>
            <span class="n">with_anomalies</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">new_graphs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Graph</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">csv</span><span class="o">=</span><span class="n">csv_list</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="n">target</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">currency1</span><span class="o">=</span><span class="n">currencies</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">currency2</span><span class="o">=</span><span class="n">currencies</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                          <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">slider</span><span class="o">=</span><span class="n">slider</span><span class="p">,</span> <span class="n">slider_label</span><span class="o">=</span><span class="n">slider_label</span><span class="p">,</span>
                          <span class="n">checkbox</span><span class="o">=</span><span class="n">refresh_checkbox</span><span class="p">,</span> <span class="n">date_label</span><span class="o">=</span><span class="n">date_label</span><span class="p">,</span> <span class="n">value_label</span><span class="o">=</span><span class="n">value_label</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="n">title</span><span class="p">,</span>
                          <span class="n">with_anomalies</span><span class="o">=</span><span class="n">with_anomalies</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">csv_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="n">tab</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">new_graphs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">Alignment</span><span class="p">())</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">csv_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">new_graphs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Graph</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">csv</span><span class="o">=</span><span class="n">csv_list</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="n">target</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">currency1</span><span class="o">=</span><span class="n">currencies</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                               <span class="n">currency2</span><span class="o">=</span><span class="n">currencies</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                               <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">slider</span><span class="o">=</span><span class="n">slider</span><span class="p">,</span> <span class="n">slider_label</span><span class="o">=</span><span class="n">slider_label</span><span class="p">,</span>
                               <span class="n">checkbox</span><span class="o">=</span><span class="n">refresh_checkbox</span><span class="p">,</span> <span class="n">date_label</span><span class="o">=</span><span class="n">date_label</span><span class="p">,</span> <span class="n">value_label</span><span class="o">=</span><span class="n">value_label</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="n">title</span><span class="p">,</span>
                               <span class="n">with_anomalies</span><span class="o">=</span><span class="n">with_anomalies</span><span class="p">))</span>
            <span class="n">tab</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">new_graphs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">Alignment</span><span class="p">())</span>

            <span class="n">tab</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">new_graphs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">Alignment</span><span class="p">())</span>



        <span class="k">if</span> <span class="ow">not</span> <span class="n">with_anomalies</span><span class="p">:</span>
            <span class="n">tab</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">refresh_checkbox</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">Alignment</span><span class="p">())</span>
            <span class="n">graph_settings_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">button_flip</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">Alignment</span><span class="p">())</span>
            <span class="n">graph_settings_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">button_refresh</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">Alignment</span><span class="p">())</span>
            <span class="n">graph_settings_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">button_reset_graph</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">Alignment</span><span class="p">())</span>
            <span class="n">graph_settings_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">),</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">Alignment</span><span class="p">())</span>
            <span class="n">graph_settings_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">date_label</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">Alignment</span><span class="p">())</span>
            <span class="n">graph_settings_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">value_label</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">Alignment</span><span class="p">())</span>
            <span class="n">tab</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">graph_settings_layout</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">methods_with_parameter</span><span class="p">:</span>
                <span class="n">slider_layout</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>
                <span class="n">slider_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">slider_label</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">Alignment</span><span class="p">())</span>
                <span class="n">slider_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">slider</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">Alignment</span><span class="p">())</span>
                <span class="n">slider_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">button_reset</span><span class="p">,</span> <span class="n">alignment</span><span class="o">=</span><span class="n">Qt</span><span class="o">.</span><span class="n">Alignment</span><span class="p">())</span>
                <span class="n">button_reset</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">new_graphs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_slider</span><span class="p">)</span>
                <span class="n">tab</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">slider_layout</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">new_graphs</span><span class="p">)):</span>
            <span class="n">button_flip</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">new_graphs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">flip</span><span class="p">)</span>
            <span class="n">slider</span><span class="o">.</span><span class="n">valueChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">new_graphs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">update_graph</span><span class="p">)</span>
            <span class="n">button_refresh</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">new_graphs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">refresh_graph</span><span class="p">)</span>
            <span class="n">button_reset_graph</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">new_graphs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">reset_graph</span><span class="p">)</span>
        <span class="n">tab</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">tab</span><span class="o">.</span><span class="n">layout</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">graphs</span><span class="p">[</span><span class="n">tab</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_graphs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tabs</span><span class="o">.</span><span class="n">indexOf</span><span class="p">(</span><span class="n">tab</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">differential</span> <span class="o">=</span> <span class="kc">False</span></div></div>


<div class="viewcode-block" id="split_csv"><a class="viewcode-back" href="../main.html#main.split_csv">[docs]</a><span class="k">def</span> <span class="nf">split_csv</span><span class="p">(</span><span class="n">csv_to_split</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">rename</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
    <span class="sd">&#39;&#39;&#39; Function that splits csv file on 2 dataframes</span>
<span class="sd">    if csv columns are one of the expected_columns containing word multiply (last 3 values) &#39;&#39;&#39;</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="n">csv_to_split</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="c1"># get columns names</span>
    <span class="k">if</span> <span class="n">columns</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">expected_columns</span><span class="o">.</span><span class="n">values</span><span class="p">())[</span><span class="mi">3</span><span class="p">:]:</span>  <span class="c1"># only in case of 2 plots in one csv (last 3 values)</span>
        <span class="n">cols_no</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span>
        <span class="n">splitted</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="n">splitted</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">csv_to_split</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:</span><span class="n">cols_no</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span>   <span class="c1"># split on a half</span>
        <span class="n">splitted</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">csv_to_split</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">cols_no</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">cols_no</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">))])</span>  <span class="c1"># get second half with Date column as first</span>
        <span class="k">if</span> <span class="n">rename</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">sp</span> <span class="ow">in</span> <span class="n">splitted</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">sp</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">():</span>
                    <span class="n">sp</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="n">col</span><span class="p">:</span> <span class="n">col</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>   <span class="c1"># rename all columns by splitting by &#39;-&#39; (easiest way to connect with existing API)</span>
        <span class="k">return</span> <span class="n">splitted</span>
    <span class="k">else</span><span class="p">:</span> <span class="k">return</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="main"><a class="viewcode-back" href="../main.html#main.main">[docs]</a><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
    <span class="n">ex</span> <span class="o">=</span> <span class="n">Window</span><span class="p">()</span>
    <span class="n">ex</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">())</span></div>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Mateusz Orski 235939.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>